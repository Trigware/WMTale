[gd_scene load_steps=10 format=3 uid="uid://du0a3gegqn6y2"]

[ext_resource type="Script" uid="uid://b5tin5y0hevrv" path="res://Scripts/Text System/TextSystem.gd" id="1_tetb0"]
[ext_resource type="FontFile" uid="uid://dtieujefikmhs" path="res://Fonts/Undertale Font.ttf" id="2_7t2e0"]
[ext_resource type="Texture2D" uid="uid://dqed4nfgn4io6" path="res://Textures/Other/TextBox.png" id="3_rbnke"]
[ext_resource type="Texture2D" uid="uid://d0fymc1ye236d" path="res://Textures/Other/Leaf.png" id="4_o07hf"]
[ext_resource type="Texture2D" uid="uid://dmkeoo4nyj0lh" path="res://Textures/Other/TextLeaf.png" id="5_k2o14"]
[ext_resource type="Shader" uid="uid://cncupw1ymiu2a" path="res://Shaders/GDSL/HideSprite.gdshader" id="6_81osm"]
[ext_resource type="Texture2D" uid="uid://cl0oi5dd6pt8g" path="res://Character Portraits/Portrait Background.png" id="6_lhxp4"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tyril"]
shader = ExtResource("6_81osm")
shader_parameter/image_pixel_height = 100.0
shader_parameter/hide_progression = -0.06
shader_parameter/moving_speed = 1.0

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_5qig2"]
load_path = "res://.godot/imported/Default.png-89a6a99fad8392002c7e125aa2bbfc08.ctex"

[node name="TextSystem" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_tetb0")

[node name="TypewritterTimer" type="Timer" parent="."]

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = 10

[node name="Textbox" type="TextureRect" parent="CanvasLayer"]
offset_left = 39.0
offset_top = 401.0
offset_right = 276.0
offset_bottom = 453.0
scale = Vector2(4.5, 4.5)
texture = ExtResource("3_rbnke")
expand_mode = 1

[node name="Choicer" type="Control" parent="CanvasLayer/Textbox"]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Leaf" type="TextureRect" parent="CanvasLayer/Textbox/Choicer"]
layout_mode = 0
offset_top = 9.0
offset_right = 592.0
offset_bottom = 119.0
scale = Vector2(0.4, 0.4)
texture = ExtResource("4_o07hf")
stretch_mode = 3

[node name="Choice A" type="RichTextLabel" parent="CanvasLayer/Textbox/Choicer"]
layout_mode = 0
offset_left = 7.0
offset_top = 10.0
offset_right = 485.0
offset_bottom = 207.0
scale = Vector2(0.221, 0.221)
theme_override_fonts/normal_font = ExtResource("2_7t2e0")
theme_override_font_sizes/normal_font_size = 48
bbcode_enabled = true
text = "Choice A"
fit_content = true
scroll_active = false
horizontal_alignment = 1
vertical_alignment = 1

[node name="Choice B" type="RichTextLabel" parent="CanvasLayer/Textbox/Choicer"]
layout_mode = 0
offset_left = 125.0
offset_top = 9.0
offset_right = 598.0
offset_bottom = 208.0
scale = Vector2(0.221, 0.221)
theme_override_fonts/normal_font = ExtResource("2_7t2e0")
theme_override_font_sizes/normal_font_size = 48
bbcode_enabled = true
text = "Choice B"
fit_content = true
scroll_active = false
horizontal_alignment = 1
vertical_alignment = 1

[node name="Choice C" type="RichTextLabel" parent="CanvasLayer/Textbox/Choicer"]
layout_mode = 0
offset_left = 7.0
offset_top = 14.0
offset_right = 1016.0
offset_bottom = 62.0
scale = Vector2(0.221, 0.221)
theme_override_fonts/normal_font = ExtResource("2_7t2e0")
theme_override_font_sizes/normal_font_size = 48
bbcode_enabled = true
text = "Choice C"
fit_content = true
scroll_active = false
horizontal_alignment = 1
vertical_alignment = 1

[node name="Choice D" type="RichTextLabel" parent="CanvasLayer/Textbox/Choicer"]
layout_mode = 0
offset_left = 8.0
offset_top = 36.0
offset_right = 1003.0
offset_bottom = 84.0
scale = Vector2(0.221, 0.221)
theme_override_fonts/normal_font = ExtResource("2_7t2e0")
theme_override_font_sizes/normal_font_size = 48
bbcode_enabled = true
text = "Choice D"
fit_content = true
scroll_active = false
horizontal_alignment = 1
vertical_alignment = 1

[node name="Wait Leaf" type="TextureRect" parent="CanvasLayer/Textbox"]
layout_mode = 0
offset_left = 212.444
offset_top = 28.4444
offset_right = 244.444
offset_bottom = 60.4444
scale = Vector2(0.6, 0.6)
texture = ExtResource("5_k2o14")

[node name="Portrait" type="TextureRect" parent="CanvasLayer/Textbox"]
modulate = Color(0.8, 0.8, 0.8, 1)
z_index = -1
material = SubResource("ShaderMaterial_tyril")
layout_mode = 0
offset_left = 6.66667
offset_top = -25.7778
offset_right = 67.6667
offset_bottom = 24.2222
scale = Vector2(0.8, 0.8)
texture = ExtResource("6_lhxp4")

[node name="Character" type="TextureRect" parent="CanvasLayer/Textbox/Portrait"]
use_parent_material = true
layout_mode = 0
offset_left = -0.111111
offset_top = -2.33332
offset_right = 61.8889
offset_bottom = 53.6667
texture = SubResource("CompressedTexture2D_5qig2")
stretch_mode = 5

[node name="Text" type="RichTextLabel" parent="CanvasLayer"]
offset_left = 100.0
offset_top = 465.0
offset_right = 1252.0
offset_bottom = 1113.0
theme_override_fonts/normal_font = ExtResource("2_7t2e0")
theme_override_font_sizes/normal_font_size = 48
bbcode_enabled = true
scroll_active = false

[node name="Outlined Text" type="RichTextLabel" parent="CanvasLayer"]
offset_left = 100.0
offset_top = 460.0
offset_right = 1252.0
offset_bottom = 1108.0
theme_override_colors/default_color = Color(0.43, 0.43, 0.43, 1)
theme_override_colors/font_outline_color = Color(0.219608, 0.219608, 0.219608, 1)
theme_override_colors/font_shadow_color = Color(0.639216, 0.639216, 0.639216, 0.392157)
theme_override_constants/outline_size = 10
theme_override_constants/shadow_offset_y = 4
theme_override_constants/shadow_offset_x = 6
theme_override_constants/shadow_outline_size = 1
theme_override_fonts/normal_font = ExtResource("2_7t2e0")
theme_override_font_sizes/normal_font_size = 48
bbcode_enabled = true
scroll_active = false
